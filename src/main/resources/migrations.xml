<?xml version="1.0" encoding="UTF-8"?>

<databaseChangeLog
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
         http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-2.0.xsd">


    <changeSet author="tyz (generated)" id="1395852842757-1">
        <createTable tableName="hibernate_sequence">
            <column name="next_val" type="BIGINT"/>
        </createTable>
    </changeSet>
    <changeSet author="tyz (generated)" id="1395852842757-2">
        <createTable tableName="user">
            <column name="id" type="INT">
                <constraints nullable="false" primaryKey="true"/>
            </column>
            <column name="birthDate" type="DATETIME"/>
            <column name="city" type="VARCHAR(255)"/>
            <column name="email" type="VARCHAR(255)"/>
            <column name="faculty" type="VARCHAR(255)"/>
            <column name="fio" type="VARCHAR(255)"/>
            <column name="note" type="VARCHAR(255)"/>
            <column name="oralEng" type="INT"/>
            <column name="password" type="VARCHAR(255)"/>
            <column name="phone" type="VARCHAR(255)"/>
            <column name="speciality" type="VARCHAR(255)"/>
            <column name="university" type="VARCHAR(255)"/>
            <column name="writtenEng" type="INT"/>
        </createTable>
    </changeSet>
    <changeSet author="tyz (generated)" id="1395852842757-3">
        <createTable tableName="user_technologies">
            <column name="User_id" type="INT">
                <constraints nullable="false"/>
            </column>
            <column name="technologies" type="VARCHAR(255)"/>
        </createTable>
    </changeSet>
    <changeSet author="tyz (generated)" id="1395852842757-4">
        <addForeignKeyConstraint baseColumnNames="User_id" baseTableName="user_technologies"
                                 baseTableSchemaName="registration" constraintName="FKE7FBC27EFE1AE8D"
                                 deferrable="false" initiallyDeferred="false" onDelete="NO ACTION"
                                 onUpdate="NO ACTION" referencedColumnNames="id" referencedTableName="user"
                                 referencedTableSchemaName="registration" referencesUniqueColumn="false"/>
    </changeSet>

    <changeSet author="liquibase-docs" id="loadUpdateData-example">
        <loadUpdateData
                encoding="UTF-8"
                file="csv/users.csv"
                primaryKey="id"
                tableName="User">
        </loadUpdateData>
    </changeSet>

</databaseChangeLog>